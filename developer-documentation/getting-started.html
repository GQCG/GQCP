

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Getting started</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'developer-documentation/getting-started';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="GQCP Style Guide" href="style-guide.html" />
    <link rel="prev" title="Mulliken constrained CI calculations" href="../examples/Mulliken-constrained-CI.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../landing-page.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.jpg" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/logo.jpg" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../landing-page.html">
                    The Ghent Quantum Chemistry Package
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../user-documentation/installing-gqcp.html">Installing GQCP(y)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-documentation/using-gqcp.html">Using GQCP(y)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tutorial</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../tutorial/introduction.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/molecules.html">Molecules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/orbital-bases.html">Orbital bases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/quantum-chemical-methods.html">Quantum chemical methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/quantum-chemical-models.html">Quantum chemical models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/use-cases.html">Common use cases</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../examples/Spinor-bases.html">Spinor bases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/RHF-dipole-moments.html">Calculating the RHF dipole moment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/UHF-calculations.html">UHF SCF</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/Custom-algorithms-showcase-CUHF.html">Custom algorithms showcase - CUHF</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/R-U-GHF-overlaps.html">Overlaps between R/U/GHF</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/HF-Stability.html">Checking the Hartree-Fock Stability conditions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/Following-internal-GHF-instabilities.html">Following internal instabilities in GHF</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/ONVPath.html">ONV path manipulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/CIS-with-CUHF-reference.html">Molecular setup</a></li>



<li class="toctree-l1"><a class="reference internal" href="../examples/DOCI.html">DOCI calculations</a></li>



<li class="toctree-l1"><a class="reference internal" href="../examples/OO-DOCI.html">OO-DOCI calculations</a></li>


<li class="toctree-l1"><a class="reference internal" href="../examples/FCI.html">Molecular FCI calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/Hubbard.html">Hubbard calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/Hubbard-Domains.html">Set up two different domains</a></li>


<li class="toctree-l1"><a class="reference internal" href="../examples/AP1roG-calculations.html">AP1roG calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/CCSD.html">CCSD calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/Mulliken-population.html">Calculating the Mulliken population</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/Biorthogonalization.html">Setup the basis and the overlap</a></li>


<li class="toctree-l1"><a class="reference internal" href="../examples/NOCI.html">Non Orthogonal Configuration Interaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/Magnetic-inducibility.html">The ipsocentric magnetic inducibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/Integrals-over-GTOs.html">Calculating integrals over GTOs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/London-integrals.html">Gauge-origin independence for London kinetic integrals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/Mean-field-magnetic.html">Mean-field calculations in magnetic fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/Mulliken-constrained-CI.html">Mulliken constrained CI calculations</a></li>

</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Developer documentation</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="style-guide.html">GQCP Style Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction for developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="ONV-path-manipulation.html">Manipulating ONVs and their addresses</a></li>
<li class="toctree-l1"><a class="reference internal" href="devops.html">GQCP devops</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../miscellaneous/troubleshooting.html">Troubleshooting guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../miscellaneous/citations.html">Academic references</a></li>
<li class="toctree-l1"><a class="reference internal" href="../miscellaneous/api.html">API</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Blog posts</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../blog/2020-11-30-RSDD.html">GQCP appears in RSDD2020</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/developer-documentation/getting-started.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Getting started</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cloning-the-repository">Cloning the repository</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-dependencies">Installing dependencies</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#docker-installation">Docker installation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#singularity-installation">Singularity installation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-and-installing-with-cmake">Building and installing with CMake</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cmake-options">CMake options</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cmake-options-quick-reference">CMake options - quick reference</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-cmake-through-vs-code">Using CMake through VS Code</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="getting-started">
<h1>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">#</a></h1>
<p>Before delving into GQCP’s structure under the hood, let’s make sure you’re set up for development to GQCP.</p>
<section id="cloning-the-repository">
<h2>Cloning the repository<a class="headerlink" href="#cloning-the-repository" title="Permalink to this headline">#</a></h2>
<p>For GQCP, we use the <a class="reference external" href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow">git flow</a> workflow. All features are therefore based on the <code class="docutils literal notranslate"><span class="pre">develop</span></code> branch, which contains the latest developments.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/GQCG/GQCP.git --branch develop --single-branch --recurse-submodules
<span class="nb">cd</span> GQCP
</pre></div>
</div>
</section>
<section id="installing-dependencies">
<h2>Installing dependencies<a class="headerlink" href="#installing-dependencies" title="Permalink to this headline">#</a></h2>
<p>Please make sure the following dependencies are available on your system:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://www.boost.org">Boost &lt;= 1.69</a></p></li>
<li><p><a class="reference external" href="http://eigen.tuxfamily.org/index.php?title=Main_Page">Eigen 3.3.4+</a></p></li>
<li><p><a class="reference external" href="https://github.com/evaleev/libint">libint 2.4.2</a></p></li>
<li><p><a class="reference external" href="https://github.com/GQCG/libcint/tree/develop">libcint (gqcg fork)</a></p></li>
</ul>
<p>You may install these manually, but please note that we offer a a Docker environment which contains these dependencies from the start.</p>
<section id="docker-installation">
<h3>Docker installation<a class="headerlink" href="#docker-installation" title="Permalink to this headline">#</a></h3>
<p>First, <a class="reference external" href="https://docs.docker.com/get-docker/">install Docker</a>. VSCode <a class="reference external" href="https://code.visualstudio.com/docs/remote/containers-tutorial">has excellent support for containers</a>. Using the <a class="reference external" href="https://code.visualstudio.com/docs/remote/containers">Visual Studio Code Remote - Containers</a> you can mount the directory in which you have cloned the GQCP repo in the Docker container. There are two ways to get the Docker container up and running:</p>
<ol class="arabic">
<li><p>You can let VSCode <a class="reference external" href="https://code.visualstudio.com/docs/remote/containers#_quick-start-open-an-existing-folder-in-a-container">build the image on your local machine</a>.</p></li>
<li><p>You can use a prebuilt container by pulling the <code class="docutils literal notranslate"><span class="pre">gqcp-dev</span></code> image from our organization</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker pull gqcg/gqcp-dev
</pre></div>
</div>
</li>
</ol>
<p>All these settings are stored in the <code class="docutils literal notranslate"><span class="pre">.devcontainer</span></code> folder. For current testing purposes, the example provided in the GQCP repo has been set up in such a way that you build the image on your local machine. Note that the default Conda prefix in this Docker container is <code class="docutils literal notranslate"><span class="pre">/usr/local/miniconda3</span></code>. As such, the <code class="docutils literal notranslate"><span class="pre">LIBINT_DATA_PATH</span></code>, which has already been exported for your convenience, is <code class="docutils literal notranslate"><span class="pre">/usr/local/miniconda3/share/libint/2.4.2/basis</span></code>.</p>
</section>
<section id="singularity-installation">
<h3>Singularity installation<a class="headerlink" href="#singularity-installation" title="Permalink to this headline">#</a></h3>
<p>For HPC systems, <a class="reference external" href="https://sylabs.io/docs/">singularity</a> offers a more secure fork of Docker. Singularity converts Docker images to Singularity images on the fly. For the <a class="reference external" href="https://www.ugent.be/hpc/en">UGent HPC</a> this translates into first making sure <a class="reference external" href="https://vlaams-supercomputing-centrum-vscdocumentation.readthedocs-hosted.com/en/latest/software/singularity.html">that you are able to download and use Singularity images</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir <span class="nv">$VSC_SCRATCH</span>/containers
mkdir <span class="nv">$VSC_SCRATCH</span>/containers/cache
mkdir <span class="nv">$VSC_SCRATCH</span>/containers/tmp
</pre></div>
</div>
<p>Then you can pull and convert the Docker image in the scratch space</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">SINGULARITY_CACHEDIR</span><span class="o">=</span><span class="nv">$VSC_SCRATCH</span>/containers/cache <span class="nv">SINGULARITY_TMPDIR</span><span class="o">=</span><span class="nv">$VSC_SCRATCH</span>/containers/tmp <span class="nv">SINGULARITY_PULLFOLDER</span><span class="o">=</span><span class="nv">$VSC_SCRATCH</span>/containers singularity pull docker://gqcg/gqcp-dev
</pre></div>
</div>
<p>and shell into the resulting <code class="docutils literal notranslate"><span class="pre">*.sif</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>singularity shell <span class="nv">$VSC_SCRATCH</span>/containers/gqcp-dev_latest.sif
</pre></div>
</div>
<p>Note that the above <code class="docutils literal notranslate"><span class="pre">SINGULARITY_*</span></code> environment variables can also be set user wide in your <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code>.</p>
</section>
</section>
<section id="building-and-installing-with-cmake">
<h2>Building and installing with CMake<a class="headerlink" href="#building-and-installing-with-cmake" title="Permalink to this headline">#</a></h2>
<p>Right now, you’re set up for development! Typically, developing a new feature on your machine would go through the following cycle:</p>
<ol class="arabic simple">
<li><p>You start a <a class="reference external" href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow">feature branch</a>, and edit some source files;</p></li>
<li><p>You locally compile the library and run the unit test cases in order to make sure that you haven’t made any errors;</p></li>
<li><p>You install the C++ library or its Python bindings and try out your new feature.</p></li>
</ol>
<p><a class="reference external" href="https://cmake.org">CMake</a> can help us out tremendously in this regard, with its out-of-source builds. Out-of-source means that we’re creating a temporary folder in the root directory of this repository, so intermediary Makefiles and compiled files does not pollute our repository. Often, this folder is just called <code class="docutils literal notranslate"><span class="pre">build</span></code>, so go ahead and create an out-of-source build directory now.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build
</pre></div>
</div>
<p>Now, we let CMake do its thing by specifying all the necessary options in <code class="docutils literal notranslate"><span class="pre">(CMake</span> <span class="pre">options)</span></code>. (We’ll go over which CMake options GQCP supports shortly.)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake .. <span class="o">(</span>CMake options<span class="o">)</span>
</pre></div>
</div>
<p>We’ll then try to make all targets, i.e. compiling the C++ library, generating the Python bindings and compiling all tests. This is to rule out any errors in your source files, i.e. we check if the code is statically (at compile-time) correct</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make all
</pre></div>
</div>
<blockquote>
<div><p><strong>Note</strong>: The <code class="docutils literal notranslate"><span class="pre">all</span></code> is default, so it may be omitted.</p>
</div></blockquote>
<p>Once every target has been built, we can check if the code does what is expected, at run-time, by executing all unit tests. This is done by the following command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make <span class="nb">test</span>
</pre></div>
</div>
<p>Finally, we check if the C++ library and its Python bindings can be installed.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make install
</pre></div>
</div>
<blockquote>
<div><p><strong>Note</strong>: Depending on which prefix you have specified in the CMake option <code class="docutils literal notranslate"><span class="pre">-DCMAKE_INSTALL_PREFIX</span></code>, you might have to use <code class="docutils literal notranslate"><span class="pre">sudo</span></code> in this installation step.</p>
</div></blockquote>
<section id="cmake-options">
<h3>CMake options<a class="headerlink" href="#cmake-options" title="Permalink to this headline">#</a></h3>
<p>As promised, here is an overview of all the CMake options that GQCP supports.</p>
<ul>
<li><p>Specify the C compiler using <code class="docutils literal notranslate"><span class="pre">-DCMAKE_C_COMPILER=cc</span></code>, with <code class="docutils literal notranslate"><span class="pre">cc</span></code> the C-compiler that you would like to use.</p></li>
<li><p>Specify the C++ compiler using <code class="docutils literal notranslate"><span class="pre">-DCMAKE_CXX_COMPILER=cxx</span></code>, with <code class="docutils literal notranslate"><span class="pre">cxx</span></code> the C++-compiler that you would like to use.</p></li>
<li><p>In order to let CMake find those libraries and include headers that are not in default locations, please use the <code class="docutils literal notranslate"><span class="pre">-DCMAKE_PREFIX_PATH=prefix_path</span></code> options, with <code class="docutils literal notranslate"><span class="pre">prefix_path</span></code> the path to those libraries and includes (grouped together).</p>
<p>If you have chosen to use conda for some dependencies, <code class="docutils literal notranslate"><span class="pre">prefix_path</span></code> should be set to e.g. <code class="docutils literal notranslate"><span class="pre">/anaconda3/envs/.../</span></code></p>
<p>If you use a custom installation of GQCP’s dependencies, you should provide this option in order to let CMake find GQCP’s dependencies (libInt2, libCint, Eigen and Intel MKL), which therefore should be installed in the subfolders of <code class="docutils literal notranslate"><span class="pre">prefix_path</span></code>. For instance, providing <code class="docutils literal notranslate"><span class="pre">-DCMAKE_PREFIX_PATH=/usr/local</span></code> that any subfolders may be found (e.g. the <code class="docutils literal notranslate"><span class="pre">cmake</span></code>, <code class="docutils literal notranslate"><span class="pre">lib</span></code>, <code class="docutils literal notranslate"><span class="pre">lib64</span></code> and <code class="docutils literal notranslate"><span class="pre">include</span></code> folders).</p>
</li>
<li><p>In order to control where the library should be installed, you may specify <code class="docutils literal notranslate"><span class="pre">-DCMAKE_INSTALL_PREFIX=prefix</span></code>, with <code class="docutils literal notranslate"><span class="pre">prefix</span></code> the installation prefix you want the library to be installed it. When omitted, <code class="docutils literal notranslate"><span class="pre">prefix</span></code> defaults to <code class="docutils literal notranslate"><span class="pre">/usr/local</span></code>.</p>
<ul class="simple">
<li><p>the header files will be installed in <code class="docutils literal notranslate"><span class="pre">prefix/include</span></code></p></li>
<li><p>the compiled library will be installed in <code class="docutils literal notranslate"><span class="pre">prefix/lib</span></code></p></li>
<li><p>drivers (optional) and benchmarks (optional) will be installed in <code class="docutils literal notranslate"><span class="pre">prefix/bin</span></code></p></li>
<li><p>CMake target files will be installed in <code class="docutils literal notranslate"><span class="pre">prefix/cmake</span></code></p></li>
</ul>
<p>We should note that setting <code class="docutils literal notranslate"><span class="pre">-DCMAKE_INSTALL_PREFIX=~/.local</span></code> is preferred as this is also makes sure that the installed Python modules can be found automatically.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">-DBUILD_TESTS=TRUE</span></code> specifies that tests should be built and run.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-DBUILD_BENCHMARKS=TRUE</span></code> makes sure CMake adds the benchmark executables as targets. This uses <a class="reference external" href="https://github.com/google/benchmark">Google benchmark</a>, so make sure you have this installed if you wish to proceed with benchmarking on your system.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-DBUILD_DOCS=TRUE</span></code> specifies that the API documentation for the C++ library should be built using Doxygen, in which case Graphviz is required for UML generation. A custom <code class="docutils literal notranslate"><span class="pre">docs</span></code> target will then be configured by CMake, so that</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  make docs
</pre></div>
</div>
<p>compiles the documentation. After compilation, the HTML documentation can be found in the <code class="docutils literal notranslate"><span class="pre">docs/html</span></code> directory inside your out-of-source <code class="docutils literal notranslate"><span class="pre">build</span></code> directory. Navigating the documentation is easiest if you start with the <code class="docutils literal notranslate"><span class="pre">index.html</span></code> file.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">-DBUILD_PYTHON_BINDINGS=TRUE</span></code> makes sure that selected pieces of the GQCP library can be called from Python. This uses <a class="reference external" href="https://github.com/pybind/pybind11">pybind11</a>, so make sure you have this installed if you wish to use <code class="docutils literal notranslate"><span class="pre">gqcpy</span></code> on your system.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-DPYTHON_EXECUTABLE=python_executable</span></code> with <code class="docutils literal notranslate"><span class="pre">python_executable</span></code> the path to your preferred Python executable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-DPYTHON_LIBRARY=python_library</span></code> with <code class="docutils literal notranslate"><span class="pre">python_library</span></code> the path to the libraries that support your preferred Python executable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-DOPTIMIZE_FOR_NATIVE=TRUE</span></code> optimizes builds for the machine on which the software is built. This should not be enable for Docker builds as not all optimizations are available on all run infrastructures.</p></li>
</ul>
</section>
<section id="cmake-options-quick-reference">
<h3>CMake options - quick reference<a class="headerlink" href="#cmake-options-quick-reference" title="Permalink to this headline">#</a></h3>
<p>As you can see, there are a lot of options that can (and should) be passed to CMake. For quick reference, here’s a command that should work most of the time. In your out-of-source build directory, initialize CMake, make all targets, run all tests and install the library:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build
cmake .. -DCMAKE_PREFIX_PATH<span class="o">=</span><span class="si">${</span><span class="nv">CONDA_PREFIX</span><span class="si">}</span> <span class="se">\</span>
    -DCMAKE_INSTALL_PREFIX<span class="o">=</span>~/.local <span class="se">\</span>
    -DBUILD_TESTS<span class="o">=</span>TRUE <span class="se">\ </span>
    -DBUILD_PYTHON_BINDINGS<span class="o">=</span>TRUE <span class="se">\</span>
    -DPYTHON_EXECUTABLE<span class="o">=</span><span class="si">${</span><span class="nv">CONDA_PREFIX</span><span class="si">}</span>/bin/python <span class="se">\ </span>
    -DPYTHON_LIBRARY<span class="o">=</span><span class="si">${</span><span class="nv">CONDA_PREFIX</span><span class="si">}</span>/lib/libpython3.8.a
make -j <span class="m">4</span> <span class="o">&amp;&amp;</span> make <span class="nb">test</span> <span class="o">&amp;&amp;</span> make install
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">-j</span> <span class="pre">4</span></code> will make sure that 4 targets will be built at once. In order to increase compilation speed, you may increase this number, related to the number of cores you have available on your machine.</p>
</section>
<section id="using-cmake-through-vs-code">
<h3>Using CMake through VS Code<a class="headerlink" href="#using-cmake-through-vs-code" title="Permalink to this headline">#</a></h3>
<p>If you’d like to compile the code locally to see if your tests still pass and the project can be compiled, you can use <code class="docutils literal notranslate"><span class="pre">CMake</span> <span class="pre">Tools</span></code> extension in your side bar and the clicking on the <code class="docutils literal notranslate"><span class="pre">...</span></code> in the upper right corner.</p>
<p>In order to let CMake parse your project, use <code class="docutils literal notranslate"><span class="pre">Clean</span> <span class="pre">Reconfigure</span> <span class="pre">All</span> <span class="pre">Projects</span></code>. In the CMake: Project Outline, you can find a list of all targets, which can be built separately. If you would like to (re)build all targets, use <code class="docutils literal notranslate"><span class="pre">Clean</span> <span class="pre">Rebuild</span> <span class="pre">All</span> <span class="pre">Projects</span></code>.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "GQCG/GQCP",
            ref: "develop",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./developer-documentation"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="../examples/Mulliken-constrained-CI.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Mulliken constrained CI calculations</p>
      </div>
    </a>
    <a class="right-next"
       href="style-guide.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">GQCP Style Guide</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cloning-the-repository">Cloning the repository</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-dependencies">Installing dependencies</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#docker-installation">Docker installation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#singularity-installation">Singularity installation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-and-installing-with-cmake">Building and installing with CMake</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cmake-options">CMake options</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cmake-options-quick-reference">CMake options - quick reference</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-cmake-through-vs-code">Using CMake through VS Code</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Ghent Quantum Chemistry Group
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2017-2021.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>